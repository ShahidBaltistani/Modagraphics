@model int?
@{
    ViewBag.Title = "Add Site Vehicle Job";
    ViewBag.MainMenu = "mProject";
    ViewBag.SubMenu = "sAddSiteVehicleJob";
}
@section controller {
    <script src="~/Angular/controllers/Job/edit-job.js"></script>
}

<div ng-controller="edit_job">
    <h4 class="link-heading"><a href="/Site/SiteList"> @ViewBag.SiteName</a> | <a href="/SiteVehicleType/Types/{{job.SiteId}}$@ViewBag.SiteName">@ViewBag.VehicleName</a> | Edit Job(Vehicle)</h4>

    <input type="hidden" name="id" id="id" value="@Model" />
    <input type="hidden" name="siteVechcle" id="siteVechcle" value="@ViewBag.VehicleName" />
    <input type="hidden" name="site" id="site" value="@ViewBag.SiteName" />
    <form autocomplete="off" name="frm">
        <div class="form-group m-form__group row">
            <div class="col-lg-4">
                <label class="mandatory">VIN</label>
                <input id="CurrentVal" ng-blur="Check()" type="text" class="form-control m-input" name="VIN" ng-model="job.VIN" required />
                <span class="text-danger" ng-show="(frm.VIN.$touched || frm.VIN.$dirty && frm.VIN.$invalid)">
                    <span ng-show="frm.VIN.$error.required">Enter VIN</span><br />
                    <span ng-show="VINError != null && VINError == false">VIN with this name already exist.</span>
                </span>
            </div>
            <div class="col-lg-4">
                <label class="mandatory">LPN</label>
                <input type="text" class="form-control m-input" name="LPN" ng-model="job.LPN" required />
                <span class="text-danger" ng-show="(frm.LPN.$touched || frm.LPN.$dirty && frm.LPN.$invalid)">
                    <span ng-show="frm.LPN.$error.required">Enter LPN</span>
                </span>
            </div>
            <div class="col-lg-4">
                <label class="mandatory">Unit #</label>
                <input ng-num="10" class="form-control m-input" name="unit" ng-model="job.UnitNo" required />
                <span class="text-danger" ng-show="(frm.unit.$touched || frm.unit.$dirty && frm.unit.$invalid)">
                    <span ng-show="frm.unit.$error.required">Enter unit number</span>
                </span>
            </div>
        </div>
        @*<div class="form-group m-form__group row">
                <div class="col-lg-4">
                    <label class="mandatory">Type of Vehicle</label>
                    <select class="form-control m-bootstrap-select m_selectpicker" tabindex="-98">
                        <option>
                            22' DFG'
                        </option>
                        <option>
                            Ketchup
                        </option>
                        <option>
                            Relish
                        </option>
                    </select>
                </div>
                <div class="col-lg-4">
                    <label class="mandatory">Vehicle Condition</label>
                    <input type="text" class="form-control m-input" required name="condition" ng-model="job.VehicleCondition" />
                    <span class="text-danger" ng-show="(frm.condition.$touched || frm.condition.$dirty && frm.condition.$invalid)">
                        <span ng-show="frm.condition.$error.required">Enter condition</span>
                    </span>
                </div>
                <div class="col-lg-4">
                    <label>Signature</label>
                    <input type="text" value="N/A" readonly class="form-control m-input" />
                </div>
            </div>*@
        <div class="form-group m-form__group">
            <input type="submit" ng-disabled="frm.$invalid" ng-click="update()" value="Submit" class="btn m-btn--square btn-success" />
            <a href="/Job/Jobs/{{job.SiteVehicleTypeId}}$@ViewBag.SiteName${{job.SiteId}}$@ViewBag.VehicleName$false" class="btn m-btn--square btn-danger">Cancel</a>
            <p class="text-danger" style="display:none">Please fill all mandatory fields</p>
        </div>
    </form>
</div>