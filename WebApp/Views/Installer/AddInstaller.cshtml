
@{
    ViewBag.Title = "Add Installer";
    ViewBag.MainMenu = "mInstaller";
    ViewBag.SubMenu = "sAddInstaller";
}

@section controller {
    <script src="~/Angular/controllers/Installer/installer-add.js"></script>
}
<form ng-controller="installer_add" autocomplete="off" name="frm">
    <h4>Profile Information</h4> <hr />
    <div class="form-group m-form__group row">
        <div class="col-lg-4">
            <label class="mandatory">First Name</label>
            <input type="text" class="form-control m-input" name="firstName" required ng-model="installer.firstName" />
            <span class="text-danger" ng-show="(frm.firstName.$touched || frm.firstName.$dirty && frm.firstName.$invalid)">
                <span ng-show="frm.firstName.$error.required">Enter first name</span>
            </span>
        </div>
        <div class="col-lg-4">
            <label class="mandatory">Last Name</label>
            <input type="text" class="form-control m-input" ng-model="installer.lastName" name="lastName" required />
            <span class="text-danger" ng-show="(frm.lastName.$touched || frm.lastName.$dirty && frm.lastName.$invalid)">
                <span ng-show="frm.lastName.$error.required">Enter last name</span>
            </span>
        </div>
        <div class="col-lg-4">
            <label class="mandatory">Email</label>
            <input id="EmailFocusOut" type="email" class="form-control m-input" ng-model="installer.emailAddress" ng-blur="EmailCheck()" name="email" required />
            <span class="text-danger" ng-show="(frm.email.$touched || frm.email.$dirty && frm.email.$invalid)">
                <span ng-show="frm.email.$error.required">Enter email</span>
                <span ng-show="frm.email.$error.email">Enter valid email</span>
                <span ng-show="installer.emailAddress != '' && installer.emailAddress != null  && UniqueEmail != null && UniqueEmail == false">Email already in use</span>
            </span>
        </div>
    </div>
    <div class="form-group m-form__group row">
        <div class="col-lg-4">
            <label>Phone No.</label>
            <input class="form-control m-input" ng-model="installer.phoneNo" ng-phone name="phone" />
            <span class="text-danger" ng-show="(frm.phone.$touched || frm.phone.$dirty && frm.phone.$invalid)">
                <span ng-show="frm.phone.$error.required">Enter phone number</span>
                @*<span ng-show="frm.phone.$error.maxlength">max lenght exceed by 15</span>*@
            </span>
        </div>
        <div class="col-lg-4">
            <label>Address</label>
            <input type="text" name="address" ng-model="installer.address" class="form-control m-input" />
        </div>
        <div class="col-lg-4">
            <label>Country</label>
            <select id="pdrpCountry" class="form-control" onchange="getStates('profile')" tabindex="-98">
            </select>
        </div>
    </div>
    <div class="form-group m-form__group row">
        <div class="col-lg-4">
            <label>State</label>
            <select onchange="getCities('profile')" id="pdrpState" tabindex="-98">
                <option value="0">--Select Country First--</option>
            </select>
        </div>
        <div class="col-lg-4">
            <label>City</label>
            <select id="pdrpCity" name="pdrpCity" tabindex="-98">
                <option value="0">--Select State First--</option>
            </select>
        </div>
        <div class="col-lg-4">
            <label>Zip Code</label>
            <input class="form-control m-input" ng-model="installer.pzipCode" ng-Zip/>
        </div>
    </div>
    <div class="form-group m-form__group row">
        <div class="col-lg-4">
            <label>Profile Picture</label>
            <div></div>
            <div class="custom-file">
                <input type="file" class="custom-file-input" id="customFile" accept="image/*" ng-image ng-model="installer.picture">
                <label class="custom-file-label" for="customFile">Choose file</label>
            </div>
        </div>
        <div class="col-lg-4">
            <label>Willing to travel (In miles)</label>
            <input step="any" class="form-control m-input" ng-model="installer.travelInMiles" ng-num="30" />
        </div>
    </div>




    <br /> <h4>Company Information</h4> <hr />
    <div class="form-group m-form__group row">
        @*<div class="col-lg-4">
                <label class="mandatory">User Type</label>
                <select id="drpCorporateUser" class="form-control" tabindex="-98">
                    <option value="0">--Select user type--</option>
                </select>
            </div>*@
        <div class="col-lg-4">
            <label class="mandatory">Company Name</label>
            <input type="text" class="form-control m-input" ng-model="installer.companyName" name="companyName" required />
            <span class="text-danger" ng-show="(frm.companyName.$touched || frm.companyName.$dirty && frm.companyName.$invalid)">
                <span ng-show="frm.companyName.$error.required">Enter comany name</span>
            </span>
        </div>
        <div  class="col-lg-4">
            <label class="mandatory">Company Contact Number</label>
            <input class="form-control m-input"  ng-model="installer.cContactNo" ng-Phone name="contactNo" required />
            <span class="text-danger" ng-show="(frm.contactNo.$touched || frm.contactNo.$dirty && frm.contactNo.$invalid)">
                <span ng-show="frm.contactNo.$error.required">Enter contact number</span>
                @*<span ng-show="frm.contactNo.$error.maxlength">max lenght exceed by 15</span>*@
            </span>
        </div>
    </div>
    <div class="form-group m-form__group row">
        <div class="col-lg-4">
            <label>Country</label>
            <select id="cdrpCountry" class="form-control" onchange="getStates('company')" tabindex="-98">
            </select>
        </div>
        <div class="col-lg-4">
            <label>State</label>
            <select onchange="getCities('company')" id="cdrpState" tabindex="-98">
                <option value="0">--Select Country First--</option>
            </select>
        </div>
        <div class="col-lg-4">
            <label>City</label>
            <select id="cdrpCity" name="pdrpCity" tabindex="-98">
                <option value="0">--Select State First--</option>
            </select>
        </div>
    </div>
    <div class="form-group m-form__group row">
        <div class="col-lg-4">
            <label>Zip Code</label>
            <input class="form-control m-input" ng-model="installer.czipCode" ng-Zip/>
        </div>
        <div class="col-lg-4">
            <label>Fax Number</label>
            <input class="form-control m-input" name="fax" ng-model="installer.faxNo" ng-Num="15" />
            @*<span class="text-danger" ng-show="(frm.fax.$touched || frm.fax.$dirty && frm.fax.$invalid)">
                <span ng-show="frm.fax.$error.maxlength">max lenght exceed by 15</span>
            </span>*@
        </div>
        <div class="col-lg-4">
            <label>Bill to Address</label>
            <input type="text" class="form-control m-input" id="billToAddress" ng-model="installer.billToAddress" />
        </div>
    </div>
    <div class="form-group m-form__group row">
        <div class="col-lg-4">
            <label class="col-10">
                <span class="m-list-settings__item-label">
                    Is company address same as profile address?
                </span>
            </label>
            <div class="m-list-settings__item col-2">
                <span class="m-list-settings__item-control">
                    <span class="m-switch m-switch--icon m-switch--success">
                        <label>
                            <input type="checkbox" name=""  ng-click="sameAddresses($event)">
                            <span></span>
                        </label>
                    </span>
                </span>
            </div>
        </div>
    </div>


    @*<br /> <h4>Documents</h4> <hr />
        <div class="form-group m-form__group row">
            <div class="col-lg-4">
                <label>Upload NDA</label>
                <div></div>
                <div class="custom-file">
                    <input type="file" class="custom-file-input" id="customFile" ng-model="installer.NDA">
                    <label class="custom-file-label" for="customFile">Choose file</label>
                </div>
            </div>
            <div class="col-lg-4">
                <label>Insurance</label>
                <div></div>
                <div class="custom-file">
                    <input type="file" class="custom-file-input" id="customFile" ng-model="installer.insurance">
                    <label class="custom-file-label" for="customFile">Choose file</label>
                </div>
            </div>
            <div class="col-lg-4">
                <label>W9 Document</label>
                <div></div>
                <div class="custom-file">
                    <input type="file" class="custom-file-input" id="customFile">
                    <label class="custom-file-label" for="customFile" ng-model="installer.w9Document">Choose file</label>
                </div>
            </div>
        </div>
        <div class="form-group m-form__group row">
            <div class="col-lg-4">
                <label>Insurance Expiration Date</label>
                <input type="text" class="form-control" id="m_datepicker_1" readonly="" ng-model="installer.insuranceExpirayDate" placeholder="Select date">
            </div>
        </div>*@


    <br /> <h4>Qualification Information</h4> <hr />
    <div class="form-group m-form__group row">
        <div class="col-lg-4">
            <label>Company Email</label>
            <input type="email" ng-model="installer.companyEmail" class="form-control m-input" name="cemail" />
            <span class="text-danger" ng-show="(frm.cemail.$touched || frm.cemail.$dirty && frm.cemail.$invalid)">
                <span ng-show="frm.cemail.$error.required">Enter email</span>
                <span ng-show="frm.cemail.$error.email">Enter valid email</span>
            </span>
        </div>
        <div class="col-lg-4">
            <label>F.E.I.N Number</label>
            <input ng-model="installer.fEINumber" class="form-control m-input" ng-Num="30" />
        </div>
        <div class="col-lg-4">
            <label># Employees</label>
            <input ng-Num="15" name="noOfEmp" ng-model="installer.NoOfEmployees" class="form-control m-input" />
            <span class="text-danger" ng-show="(frm.noOfEmp.$touched || frm.noOfEmp.$dirty && frm.noOfEmp.$invalid)">
                <span ng-show="frm.noOfEmp.$error.min">Number of  empolyees should be greater than 0</span>
            </span>
        </div>
    </div>
    <div class="form-group m-form__group row">
        <div class="col-lg-4">
            <label>Certification/Training</label>
            <input type="text" class="form-control m-input" ng-model="installer.certificationTraining" />
        </div>
        <div class="col-lg-4">
            <label class="mandatory">Are You Installers Employee?</label>
            <select id="sltInstall" class="form-control m-bootstrap-select m_selectpicker" tabindex="-98" ng-model="installer.isInstallersEmployee">
                <option value="0">
                    Select Yes/No
                </option>
                <option value="true">
                    Yes
                </option>
                <option value="false">
                    No
                </option>
            </select>
        </div>
        <div class="col-lg-4">
            <label class="mandatory">Do you do Backgrounds Checks</label>
            <select id="sltBackGround" class="form-control m-bootstrap-select m_selectpicker" ng-model="installer.isEmployeesBackgroundCheck" tabindex="-98">
                <option value="0">
                    Select Yes/No
                </option>
                <option value="true">
                    Yes
                </option>
                <option value="false">
                    No
                </option>
            </select>
            <span class="m-form__help helptext">(On your employees or sub-contractors)</span>
        </div>
    </div>
    <div class="form-group m-form__group row">
        <div class="col-lg-4">
            <label class="mandatory">Do you Drug Test</label>
            <select id="sltDrug" class="form-control m-bootstrap-select m_selectpicker" ng-model="installer.isDrugTest" tabindex="-98">
                <option value="0">
                    Select Yes/No
                </option>
                <option value="true">
                    Yes
                </option>
                <option value="false">
                    No
                </option>
            </select>
            <span class="m-form__help helptext">(Of your employees or sub-contractors)</span>
        </div>
        <div class="col-lg-4">
            <label>Equipment Owned/Operated</label>
            <input type="text" class="form-control m-input" ng-model="installer.equipmentOwned" />
        </div>
        <div class="col-lg-4">
            <label>Install Locations/Geographic Areas</label>
            <input type="text" class="form-control m-input" ng-model="installer.installLocations" />
        </div>
    </div>
    <div class="form-group m-form__group row">
        <div class="col-lg-4">
            <label>Type of Install Projects Completed</label>
            <input type="text" class="form-control m-input" ng-model="installer.installProjectCompleted" />
        </div>
        <div class="col-lg-4">
            <label>Year in Business</label>
            <input class="form-control m-input" name="yearInbusiness" ng-model="installer.yearInBusiness" ng-Num="15"/>
            @*<span class="text-danger" ng-show="(frm.yearInbusiness.$touched || frm.yearInbusiness.$dirty && frm.yearInbusiness.$invalid)">
                <span ng-show="frm.yearInbusiness.$error.min">Year in business should be greater than 0</span>
            </span>*@
        </div>
    </div>
    <div class="form-group m-form__group custommargin">
        @*<button ng-disabled="frm.$invalid || UniqueEmail != true" ng-click="save()" class="btn m-btn--square btn-success">Submit</button>*@

        <button ng-disabled="frm.$invalid" ng-mousedown="save()" class="btn m-btn--square btn-success">Submit</button>
        <a @*href="/Installer/InstallerList"*@ ng-mousedown="Cancel()" class="btn m-btn--square btn-danger">Cancel</a>
        <p class="text-danger" style="display:none">Please fill all mandatory fields</p>
    </div>
</form>

